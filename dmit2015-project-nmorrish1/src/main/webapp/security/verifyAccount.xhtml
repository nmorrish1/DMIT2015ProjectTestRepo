<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:hf="http://highfaces.org" 
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:o="http://omnifaces.org/ui" 
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta charset="utf-8" />
   	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		
	<meta name="description" content="${description}"/>
    <meta name="keywords" content="${keywords}" />
	
	<title>Verify Account</title>
</h:head>
<h:body>
	<b:container style="min-height:100%;">
	<div style="margin-bottom:5%; min-height:95%;">
		<header>
			<b:navBar brand="DMIT2015 Final Project" brandHref="#{request.contextPath}/index.xhtml" fixed="top" style="margin-bottom:60px''"></b:navBar>
		</header>
	
		<f:metadata>
			<f:viewParam name="vKey" value="#{verifyAccount.verificationKey}" />
			<!-- <f:event listener="#{verifyAccount.intialVisit()}" type="preRenderView" /> -->
		</f:metadata>
	
		<c:if test="#{empty request.userPrincipal}">
		
			<b:jumbotron>
				<marquee><h1>DMIT 2015 Project</h1></marquee>
				<h2>Complete Verification</h2>
			</b:jumbotron>		
		
			<c:if test="#{param.error != null}">
				<b:alert severity="danger">Invalid login credentials</b:alert>
			</c:if>
		
			<b:messages id="messages" />
			
			<b:form name="loginForm">
	            <h2 class="form-signin-heading">To complete verification, please sign in to your account below:</h2>
	            <b:inputText id="username" label="User Name" placeholder="username" 
	            	value="#{verifyAccount.username}">
	                <f:facet name="prepend">
	                    <b:icon name="user" />
	                </f:facet>
	            </b:inputText>
	            
	            <b:inputSecret id="password" label="Password" placeholder="Password" type="password"
	            	value="#{verifyAccount.password}">
	                <f:facet name="prepend">
	                    <b:iconAwesome name="key" />
	                </f:facet>
	            </b:inputSecret>
	            
	            <b:commandButton 
	            	value="Login"  
	            	icon="log-in" 
	            	action="#{verifyAccount.verify()}"
	            	update=":messages"/>

	        </b:form>
        
        </c:if>
    
    
    
    </div>
	<footer class="footer fixed-bottom">
	 	<p>This
		<a href="https://javaee.github.io/tutorial/toc.html" target="_blanks">Java EE 8</a>
		web application is built using
		<a href="http://www.eclipse.org/downloads/eclipse-packages/" target="_blanks">Eclipse IDE for Java EE Developers</a>, 
		<a href="https://javaee.github.io/javaserverfaces-spec/" target="_blanks">JSF</a>,         		
		<a href="http://omnifaces.org/" target="_blanks">OmniFaces</a>,
		<a href="https://www.bootsfaces.net/" target="_blanks">BootsFaces</a>, 
		<a href="http://primefaces.org/" target="_blanks">PrimeFaces</a>,
		and runs on
		<a href="http://www.wildfly.org/" target="_blanks">WildFly</a>        		
		</p>
	 </footer>   
	 
	 </b:container>

	<ui:insert name="bodyscripts">
	</ui:insert>
</h:body>



</html>